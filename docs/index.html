<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>RSS News</title>
  <style>
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;max-width:900px;margin:24px auto;padding:0 16px;line-height:1.6}
    .item{padding:12px 0;border-bottom:1px solid #eee}
    .meta{color:#666;font-size:14px}
    a{color:#0b57d0;text-decoration:none}
    a:hover{text-decoration:underline}
  </style>
</head>
<body>
  <h1>ðŸ“° RSS News</h1>
  <p class="meta" id="status">åŠ è½½ä¸­â€¦</p>
  <div id="list"></div>

<script>
async function main(){
  const status = document.getElementById("status");
  const list = document.getElementById("list");
  try{
    const res = await fetch("./news.json?ts=" + Date.now());
    if(!res.ok) throw new Error("HTTP " + res.status);
    const data = await res.json();
    status.textContent = "æœ€åŽæ›´æ–°ï¼š" + (data.updated_at || "unknown") + "ï½œå…± " + (data.items?.length || 0) + " æ¡";
    list.innerHTML = "";
    (data.items || []).forEach(it=>{
      const div = document.createElement("div");
      div.className = "item";
      div.innerHTML = `
        <div class="meta">${it.published || ""} ï½œ ${it.source || ""}</div>
        <div><a href="${it.link}" target="_blank" rel="noopener">${it.title || ""}</a></div>
        <div>${it.summary || ""}</div>
      `;
      list.appendChild(div);
    });
  }catch(e){
    status.textContent = "åŠ è½½å¤±è´¥ï¼š" + e;
  }
}
main();
</script>
</body>
</html>
